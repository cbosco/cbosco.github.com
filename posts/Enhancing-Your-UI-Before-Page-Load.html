<!DOCTYPE html>
<html lang="en" âš¡>
<head>
    <meta charset="utf-8">
<link rel="canonical" href="/posts/Enhancing-Your-UI-Before-Page-Load.html">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

<script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
<script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
<script async src="https://cdn.ampproject.org/v0.js"></script>


<title>Enhancing Your UI Before Page Load</title>

<meta name="author" content="Chris Bosco">
<link rel="author" href="https://plus.google.com/107516626305634995395/posts"/>

  <meta name="keywords" content="chris bosco, chrisbosco, cbsides, cbosco, web, web app, designer, developer, portfolio, css, javascript, html, html5, user interface, ui, user experience, ux, experience design, interaction design">
  <meta name="copyright" content="copyright 2007-20014 chrisbosco.com">

<link href="https://fonts.googleapis.com/css?family=Oswald|Raleway" rel="stylesheet" type="text/css">
<link href="/assets/app.css" rel="stylesheet" type="text/css" media="all">

</head>
<body>
    <div class="contain-to-grid">
    <nav class="top-bar" data-topbar role="navigation">
    <ul class="title-area">
        <li class="name">
            <a href="/"><amp-img width="61" height="50" src="/images/logo-masthead.png"></a>
        </li>
    </ul>

    <section class="top-bar-section">
        <div class="right">
            <span class="social-icon">
                <a href="mailto:contact@chrisbosco.com">
                    <i class="fa fa-envelope"></i>
                </a>
            </span>
            <span class="social-icon">
                <a href="https://github.com/cbosco" title="github">
                    <i class="fa fa-github"></i>
                </a>
            </span>
            <span class="social-icon">
                <a href="http://twitter.com/cbsides" title="Twitter">
                    <i class="fa fa-twitter"></i>
                </a>
            </span>
            <span class="social-icon">
                <a href="http://www.linkedin.com/in/chrisbosco" title="LinkedIn">
                    <i class="fa fa-linkedin-square"></i>
                </a>
            </span>
            <span class="social-icon">
                <a href="http://instagram.com/chrisbosco" title="Instagram">
                    <i class="fa fa-instagram"></i>
                </a>
            </span>
        </div>
    </section>

    </nav>
</div>

    <div class="row">
        <div class="small-12 columns">
        
            <nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs">
                <a href="/posts.html">Blog Posts</a>
                <a class="unavailable" >
                    2009-10-13
                </a>
                <a class="current">Enhancing Your UI Before Page Load</a>
            </nav>
        
        </div>
    </div>
    <div class="heading text-center">
        <div class="row">
            <div class="small-12 columns">
                <h1>
                    Enhancing Your UI Before Page Load
                </h1>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="small-12 columns">
            <h6 class="text-center post-detail-tags">
                Accessibility, JavaScript
            </h6>
        </div>
    </div>


    <div class="row">
        <div class="small-12 columns">

    <div class="project-summary-detail post-detail">
        <p>A common drawback of <a href="http://www.alistapart.com/articles/understandingprogressiveenhancement/">progressive
enhancement</a>
is that the UI will often &quot;flash&quot; or &quot;flicker&quot; when first loading. This
is because conventional wisdom of <a href="http://peter.michaux.ca/articles/the-window-onload-problem-still">separation of
concerns</a>
calls for waiting until the DOM is ready to set up the UI for a richer
interaction (tabs, accordion, drilldown, the list goes on). While this
makes sense academically, we&#39;re not always putting the user experience
first. Trust me, users <em>do</em> notice these things, even when they occur in
<a href="http://www.useit.com/papers/responsetime.html">under a second</a>.</p>
<p>Personally, the majority of what I do to prepare for an enhanced
interaction is to hide and show elements and apply some styles. So, why
wait for anything to load? What I really need is to simply check for
JavaScript support; an aspect of the browser, not the content being
loaded.</p>
<p>Assuming a general case where all that is needed is to A) know that
JavaScript is supported and B) apply some enhanced CSS styles when A is
true, we can do this as early as the <code>&lt;head /&gt;</code> portion of the page, and
incur no flicker penalty.</p>
<p>A simple, if inelegant solution, is to <code>document.write()</code> a CSS file
full of &quot;enhanced&quot; styles into the <code>&lt;head /&gt;</code> area of the page,
typically right after all of your basic CSS.</p>
<pre><code class="lang-html"><span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"base.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="handlebars"><span class="xml">
    document.write('<span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"enhanced.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span>');
</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
</code></pre>
<p>With this, we trade some code maintainability for a potentially drastic
improvement in performance and seamlessness (disclaimer: may not be a
word). Waiting for content to load to set up a JavaScript-enhanced UI is
a twofold problem: for one, there is the obvious added wait time and
aforementioned flicker you&#39;ll likely see, but there is also
<a href="http://www.mozilla.org/newlayout/doc/reflow.html">reflow</a> introduced.
In short, the affected area of the page has to be rendered twice which
takes even <em>more</em> time.</p>
<p>I&#39;ve created a little <a href="http://projects.chrisbosco.com/blog/demo/enhancedcss/">demo</a> of
this to illustrate the technique. I don&#39;t have any quantitative
performance comparisons as there is a near-infinite number of
combinations of browser and implementation, but I&#39;ve found the technique
to be quite helpful, at least anecdotally. If you&#39;re like me and need to
wait for external content such as web analytics images or 3rd party ads
to load, you could see an improvement measured in seconds depending on
your browser (looking in your direction, IE6/7)</p>
<p>I should mention this is a very simple, maybe even commonly used
technique for many developers, but I haven&#39;t seen it widely endorsed
(probably because it&#39;s not very elegant) and I felt it was worth
promoting this underrated (in my opinion) solution to a common problem
with an otherwise great approach to building accessible web content.</p>

    </div>

        </div>

    </div>

            <footer class="inverse">

            <div class="row">
                <div class="small-12 columns">

        <p class="right">
            <a href="#">
                <i class="fa fa-angle-up"></i> top
            </a>
        </p>
        <div class="name">
            <a href="/"><amp-img width="98" height="80" src="/images/logo-footer.png"></a>
        </div>

<div class="place">
          <h2><a href="/posts.html">Blog</a></h2>
        </div>
        <div class="place">
        </div>

          <h2>Elsewhere</h2>
            <ul class="no-bullet">
              <li class="social-icon">
                  <a href="https://github.com/cbosco" title="github">
                    <i class="fa fa-github"></i>
                      cbosco
                  </a>
              </li>
              <li class="social-icon">
                  <a href="http://twitter.com/cbsides" title="Twitter">
                    <i class="fa fa-twitter"></i>
                  @cbsides
                  </a>
              </li>
              <li class="social-icon">
                  <a href="http://instagram.com/chrisbosco" title="Instagram">

                    <i class="fa fa-instagram"></i>
                      chrisbosco
                  </a>
              </li>

              <li class="social-icon">
                  <a href="http://www.linkedin.com/in/chrisbosco" title="LinkedIn">

                    <i class="fa fa-linkedin-square"></i>
                  Chris Bosco
                  </a>
              </li>

              <li class="social-icon">
                <a href="mailto:contact@chrisbosco.com">
                    <i class="fa fa-envelope"></i>
                  contact@chrisbosco.com
                  </a>
              </li>
            </ul>
          <p class="copyright">
            &copy; 2007-2016 <a href="mailto:contact@chrisbosco.com">Chris Bosco</a>
          </p>

                </div><!-- .row -->
            </div><!-- .small-12 columns -->
        </footer>

        <amp-analytics type="googleanalytics">
        <script type="application/json">
        {
          "vars": {
            "account": "UA-4850138"
          },
          "triggers": {
            "defaultPageview": {
              "on": "visible",
              "request": "pageview"
            }
          }
        }
        </script>
        </amp-analytics>


</body>
</html>

